<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>UUTrack.Controller.devices.keysight.inifiniivision &#8212; UUTracking 0.1 documentation</title>
    
    <link rel="stylesheet" href="../../../../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../../../',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" />
   
  <link rel="stylesheet" href="../../../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <h1>Source code for UUTrack.Controller.devices.keysight.inifiniivision</h1><div class="highlight"><pre>
<span></span><span class="c1"># -*- coding: utf-8 -*-</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    infiniivision.py</span>
<span class="sd">    ~~~~~~~~~~~~</span>
<span class="sd">    Driver for the Keysight InfiniiVision DSOX2022A oscilloscope with function generation capabilities.</span>
<span class="sd">    Source: Programmers Guide, Version 02.39.0000 by Keysight Technologies</span>
<span class="sd">    NOTE: Not all functions were implemented in the code as methods in the class. However a fair amount of the most</span>
<span class="sd">    useful ones was formatted according to Lantz standards.</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">from</span> <span class="nn">lantz</span> <span class="k">import</span> <span class="n">Action</span>
<span class="kn">from</span> <span class="nn">lantz</span> <span class="k">import</span> <span class="n">Feat</span><span class="p">,</span> <span class="n">DictFeat</span>
<span class="kn">from</span> <span class="nn">lantz</span> <span class="k">import</span> <span class="n">Q_</span>
<span class="kn">from</span> <span class="nn">lantz.messagebased</span> <span class="k">import</span> <span class="n">MessageBasedDriver</span>


<div class="viewcode-block" id="Funcgen"><a class="viewcode-back" href="../../../../../UUTrack.Controller.devices.keysight.html#UUTrack.Controller.devices.keysight.inifiniivision.Funcgen">[docs]</a><span class="k">class</span> <span class="nc">Funcgen</span><span class="p">(</span><span class="n">MessageBasedDriver</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;The agilent 33220a function generator&quot;&quot;&quot;</span>
    <span class="n">MANUFACTURER_ID</span> <span class="o">=</span> <span class="s1">&#39;0x0957&#39;</span>
    <span class="n">MODEL_CODE</span> <span class="o">=</span> <span class="s1">&#39;0x1797&#39;</span>

    <span class="n">DEFAULTS</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;USB&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;write_termination&#39;</span><span class="p">:</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;read_termination&#39;</span><span class="p">:</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;timeout&#39;</span><span class="p">:</span> <span class="mi">5000</span><span class="p">,</span>
                        <span class="s1">&#39;encoding&#39;</span><span class="p">:</span> <span class="s1">&#39;ascii&#39;</span>
                        <span class="p">}}</span>

    <span class="nd">@Action</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">clear</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;*CLS&#39;</span><span class="p">)</span>

    <span class="nd">@Feat</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">idn</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;*IDN?&#39;</span><span class="p">)</span>

    <span class="nd">@Feat</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">serial</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the serial number of the instrument&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;:SER?&#39;</span><span class="p">)</span>

    <span class="nd">@Action</span><span class="p">(</span><span class="n">limits</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">9</span><span class="p">))</span>
    <span class="k">def</span> <span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Stores the current state of the instrument in a save register.</span>
<span class="sd">        :params -- value of the save register where data will be saved &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;*SAV </span><span class="si">%s</span><span class="s1">&#39;</span><span class="o">%</span><span class="n">value</span><span class="p">)</span>

    <span class="nd">@Action</span><span class="p">(</span><span class="n">limits</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
    <span class="k">def</span> <span class="nf">recall</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Restores the state of the instrument from the specified save/recall register.</span>
<span class="sd">        :params -- value of the save register from which data will be restored&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;*RCL </span><span class="si">%s</span><span class="s1">&#39;</span><span class="o">%</span><span class="n">value</span><span class="p">)</span>

    <span class="nd">@Action</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">trigger</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Triggers the device&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;*TRG&#39;</span><span class="p">)</span>

    <span class="nd">@Feat</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">self_test</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Performs a self-test of the instrument. The result of the test is the output. A zero indicates the test</span>
<span class="sd">        passed and a non-zero indicates the test failed.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;*TST?&#39;</span><span class="p">)</span>

    <span class="nd">@Feat</span><span class="p">(</span><span class="n">limits</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
    <span class="k">def</span> <span class="nf">status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">channel</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Reports  whether the channel, function or serial decode bus is displayed.</span>
<span class="sd">        :params -- channel&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;:STAT? </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">channel</span><span class="p">)</span>



    <span class="c1">### Functions related to the function generator and not to the oscilloscope are prepended</span>
    <span class="c1">### with the word wgen.</span>

    <span class="nd">@Feat</span><span class="p">(</span><span class="n">units</span><span class="o">=</span><span class="s1">&#39;hertz&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">wgen_frequency</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;gets the frequency of the function generator</span>
<span class="sd">        :params -- frequency (in Hz)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;:WGEN:FREQuency?&#39;</span><span class="p">)</span>

    <span class="nd">@wgen_frequency</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">wgen_frequency</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">freq</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;:WGEN:FREQuency </span><span class="si">%s</span><span class="s1">&#39;</span><span class="o">%</span><span class="n">freq</span><span class="p">)</span>

    <span class="nd">@Feat</span><span class="p">(</span><span class="n">values</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;SIN&#39;</span><span class="p">,</span> <span class="s1">&#39;SQU&#39;</span><span class="p">,</span> <span class="s1">&#39;RAMP&#39;</span><span class="p">,</span> <span class="s1">&#39;PULS&#39;</span><span class="p">,</span> <span class="s1">&#39;NOIS&#39;</span><span class="p">,</span> <span class="s1">&#39;DC&#39;</span><span class="p">})</span>
    <span class="k">def</span> <span class="nf">wgen_function</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Gets the function pased to the function generator&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;:WGEN:FUN?&#39;</span><span class="p">)</span>

    <span class="nd">@wgen_function</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">wgen_function</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fun</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Sets the function of the function generator&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;:WGEN:FUN </span><span class="si">%s</span><span class="s1">&#39;</span><span class="o">%</span><span class="n">fun</span><span class="p">)</span>

    <span class="nd">@Feat</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">wgen_pulse_width</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;For Pulse waveforms, the :WGEN:FUNCtion:PULSe:WIDTh specifies the</span>
<span class="sd">        width of the pulse.</span>
<span class="sd">        The pulse width can be adjusted from 20 ns to the period minus 20 ns.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;:WGEN:FUNCtion:PULSe:WIDTh?&#39;</span><span class="p">)</span>

    <span class="nd">@wgen_pulse_width</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">wgen_pulse_width</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">width</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;:WGEN:FUNCtion:PULSe:WIDTh </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">width</span><span class="p">)</span>

    <span class="nd">@Feat</span><span class="p">(</span><span class="n">limits</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
    <span class="k">def</span> <span class="nf">wgen_ramp_symmetry</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;For Ramp waveforms, the :WGEN:FUNCtion:RAMP:SYMMetry command specifies</span>
<span class="sd">        the symmetry of the waveform.</span>
<span class="sd">        Symmetry represents the amount of time per cycle that the ramp waveform is</span>
<span class="sd">        rising.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;:WGEN:FUNCtion:RAMP:SYMMetry?&#39;</span><span class="p">)</span>

    <span class="nd">@wgen_ramp_symmetry</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">wgen_ramp_symmetry</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">perc</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;:WGEN:FUNCtion:RAMP:SYMMetry </span><span class="si">%i</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">perc</span><span class="p">)</span>

    <span class="nd">@Feat</span><span class="p">(</span><span class="n">limits</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
    <span class="k">def</span> <span class="nf">wgen_square_dcycle</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Duty cycle is the percentage of the period that the waveform is high.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;:WGEN:FUNCtion:SQUare:DCYCle?&#39;</span><span class="p">)</span>

    <span class="nd">@wgen_square_dcycle</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">wgen_square_dcycle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">perc</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;:WGEN:FUNCtion:SQUare:DCYCle </span><span class="si">%i</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">perc</span><span class="p">)</span>

    <span class="nd">@Feat</span><span class="p">(</span><span class="n">limits</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
    <span class="k">def</span> <span class="nf">wgen_amplitude_modulation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;specifies the amount of amplitude modulation.</span>
<span class="sd">        AM Depth refers to the portion of the amplitude range that will be used by the</span>
<span class="sd">        modulation. For example, a depth setting of 80% causes the output amplitude to</span>
<span class="sd">        vary from 10% to 90% (90% – 10% = 80%) of the original amplitude&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;:WGEN:MODulation:AM:DEPTh?&#39;</span><span class="p">)</span>

    <span class="nd">@wgen_amplitude_modulation</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">wgen_amplitude_modulation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">perc</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;:WGEN:MODulation:AM:DEPTh </span><span class="si">%i</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">perc</span><span class="p">)</span>

    <span class="nd">@Feat</span><span class="p">(</span><span class="n">units</span><span class="o">=</span><span class="s1">&#39;Hz&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">wgen_amplitude_modulation_frequency</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;specifies the frequency of the modulating signal.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;:WGEN:MODulation:AM:FREQuency?&#39;</span><span class="p">)</span>

    <span class="nd">@wgen_amplitude_modulation_frequency</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">wgen_amplitude_modulation_frequency</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">freq</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;:WGEN:MODulation:AM:FREQuency </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">freq</span><span class="p">)</span>

    <span class="nd">@Feat</span><span class="p">(</span><span class="n">values</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;SINusoid&#39;</span><span class="p">,</span> <span class="s1">&#39;SQUare&#39;</span><span class="p">,</span> <span class="s1">&#39;RAMP&#39;</span><span class="p">})</span>
    <span class="k">def</span> <span class="nf">wgen_amplitude_modulation_function</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;:WGEN:MODulation:FUNCtion?&#39;</span><span class="p">)</span>

    <span class="nd">@wgen_amplitude_modulation_function</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">wgen_amplitude_modulation_function</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">func</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;specifies the shape of the modulating signal.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;:WGEN:MODulation:FUNCtion </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">func</span><span class="p">)</span>

    <span class="nd">@Feat</span><span class="p">(</span><span class="n">limits</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
    <span class="k">def</span> <span class="nf">wgen_modulation_noise</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;adds noise to the currently selected</span>
<span class="sd">        signal. The sum of the amplitude between the original signal and injected noise is</span>
<span class="sd">        limited to the regular amplitude limit (for example, 5 Vpp in 1 MOhm), so the range</span>
<span class="sd">        for &lt;percent&gt; varies according to current amplitude.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;:WGEN:MODulation:NOISe?&#39;</span><span class="p">)</span>

    <span class="nd">@wgen_modulation_noise</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">wgen_modulation_noise</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">perc</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;:WGEN:MODulation:NOISe </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">perc</span><span class="p">)</span>

    <span class="nd">@Feat</span><span class="p">(</span><span class="n">values</span><span class="o">=</span><span class="p">{</span><span class="kc">True</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="kc">False</span><span class="p">:</span> <span class="mi">0</span><span class="p">})</span>
    <span class="k">def</span> <span class="nf">wgen_modulation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;:WGEN:MODulation:STATe?&#39;</span><span class="p">)</span>

    <span class="nd">@wgen_modulation</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">wgen_modulation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;:WGEN:MODulation:STATe </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">value</span><span class="p">)</span>

    <span class="nd">@Feat</span><span class="p">(</span><span class="n">values</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;AM&#39;</span><span class="p">,</span> <span class="s1">&#39;FM&#39;</span><span class="p">,</span> <span class="s1">&#39;FSK&#39;</span><span class="p">})</span>
    <span class="k">def</span> <span class="nf">wgen_modulation_type</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;:WGEN:MODulation:TYPE?&#39;</span><span class="p">)</span>

    <span class="nd">@wgen_modulation_type</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">wgen_modulation_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">modulation</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;:WGEN:MODulation:TYPE </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">modulation</span><span class="p">)</span>

    <span class="nd">@Feat</span><span class="p">(</span><span class="n">values</span><span class="o">=</span><span class="p">{</span><span class="kc">True</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="kc">False</span><span class="p">:</span> <span class="mi">0</span><span class="p">})</span>
    <span class="k">def</span> <span class="nf">wgen</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The :WGEN:OUTPut command specifies whether the waveform generator signal</span>
<span class="sd">        output is ON (1) or OFF (0).&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;:WGEN:OUTPut?&#39;</span><span class="p">)</span>

    <span class="nd">@wgen</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">wgen</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;:WGEN:OUTPut&#39;</span> <span class="o">%</span> <span class="n">value</span><span class="p">)</span>

    <span class="nd">@Feat</span><span class="p">(</span><span class="n">units</span><span class="o">=</span><span class="s1">&#39;s&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">wgen_period</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;For all waveforms except Noise and DC, the :WGEN:PERiod command specifies</span>
<span class="sd">        the period of the waveform.</span>
<span class="sd">        You can also specify the period indirectly using the :WGEN:FREQuency command.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;:WGEN:PERiod?&#39;</span><span class="p">)</span>

    <span class="nd">@wgen_period</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">wgen_period</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">period</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;:WGEN:PERiod </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">period</span><span class="p">)</span>

    <span class="nd">@Action</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">wgen_reset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The :WGEN:RST command restores the waveform generator factory default</span>
<span class="sd">        settings (1 kHz sine wave, 500 mVpp, 0 V offset).&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;:WGEN:RST&#39;</span><span class="p">)</span>

    <span class="nd">@Feat</span><span class="p">(</span><span class="n">units</span><span class="o">=</span><span class="s1">&#39;V&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">wgen_voltage</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;For all waveforms except DC, the :WGEN:VOLTage command specifies the</span>
<span class="sd">        waveform&#39;s amplitude. Use the :WGEN:VOLTage:OFFSet command to specify the</span>
<span class="sd">        offset voltage or DC level.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;:WGEN:VOLTage?&#39;</span><span class="p">)</span>

    <span class="nd">@wgen_voltage</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">wgen_voltage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">volt</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;:WGEN:VOLTage </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">volt</span><span class="p">)</span>

    <span class="nd">@Feat</span><span class="p">(</span><span class="n">units</span><span class="o">=</span><span class="s1">&#39;V&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">wgen_voltage_offset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The :WGEN:VOLTage:OFFSet command specifies the waveform&#39;s offset voltage or</span>
<span class="sd">        the DC level. Use the :WGEN:VOLTage command to specify the amplitude.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;:WGEN:VOLTage:OFFSet?&#39;</span><span class="p">)</span>

    <span class="nd">@wgen_voltage_offset</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">wgen_voltage_offset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">volt</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;:WGEN:VOLTage:OFFSet </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">volt</span><span class="p">)</span>




    <span class="c1">### Functions related to the oscilloscope and not to the function generator are prepended</span>
    <span class="c1">### with the word measure.</span>

    <span class="nd">@Action</span><span class="p">(</span><span class="n">limits</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
    <span class="k">def</span> <span class="nf">measure_autoscale</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">channel</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Autoscale to the defined channel.</span>
<span class="sd">        :params -- chanel to use as reference&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;:AUT </span><span class="si">%s</span><span class="s1">&#39;</span><span class="o">%</span><span class="n">channel</span><span class="p">)</span>

    <span class="nd">@Feat</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">measure_digitize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channels</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;It makes the instrument to acquire a waveform according to the settings of the acquire command.</span>
<span class="sd">        When the acquisition is complete the instrument is stopped.</span>
<span class="sd">        :params -- array of channels to acquire&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">channels</span><span class="p">)</span> <span class="o">==</span> <span class="nb">type</span><span class="p">(</span><span class="mi">1</span><span class="p">):</span>
           <span class="n">s</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">channels</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">type</span><span class="p">(</span><span class="n">channels</span><span class="p">)</span> <span class="o">==</span> <span class="nb">type</span><span class="p">([]):</span>
            <span class="n">s</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
            <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">channels</span><span class="p">:</span>
                <span class="n">s</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">,&#39;</span><span class="o">%</span><span class="n">c</span>
            <span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;:DIG </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">s</span><span class="p">)</span>

    <span class="nd">@Action</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">measure_run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Starts repetitive acquisitions. It is the same as pressing the run key on the front panel.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;:RUN&#39;</span><span class="p">)</span>

    <span class="nd">@Action</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">measure_stop</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;stops the acquisition. This is the same as pressing the Stop key on the front panel&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;:STOP&#39;</span><span class="p">)</span>

    <span class="nd">@Action</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">measure_single</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Triggers a single acquisition of data. It is the same as pressing the single button on the control panel.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;:SING&#39;</span><span class="p">)</span>

    <span class="nd">@Feat</span><span class="p">(</span><span class="n">limits</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">655367</span><span class="p">))</span>
    <span class="k">def</span> <span class="nf">measure_acquire_count</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;In averaging mode, specifies the number of values</span>
<span class="sd">        to be averaged for each time bucket before the acquisition is considered to be</span>
<span class="sd">        complete for that time bucket. When :ACQuire:TYPE is set to AVERage, the count</span>
<span class="sd">        can be set to any value from 2 to 65536.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;:ACQ:COUNT?&#39;</span><span class="p">)</span>

    <span class="nd">@measure_acquire_count</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">measure_acquire_count</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">count</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;ACQ:COUNT </span><span class="si">%s</span><span class="s1">&#39;</span><span class="o">%</span><span class="n">count</span><span class="p">)</span>

    <span class="nd">@DictFeat</span><span class="p">(</span><span class="n">keys</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;RTIM&#39;</span><span class="p">,</span> <span class="s1">&#39;SEGM&#39;</span><span class="p">})</span>
    <span class="k">def</span> <span class="nf">measure_acquire_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Sets the acquisition mode of the oscilloscope.</span>
<span class="sd">        :params -- the mode. RTIM sets the oscilloscope in real time mode; SEGM sets the oscilloscope in segmented</span>
<span class="sd">        memory mode&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;:ACQ:MODE?&#39;</span><span class="p">)</span>

    <span class="nd">@measure_acquire_mode</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">measure_acquire_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">mode</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;:ACQ:MODE </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">mode</span><span class="p">)</span>

    <span class="nd">@Feat</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">measure_points</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the number of data points that the hardware</span>
<span class="sd">        will acquire from the input signal. The number of points acquired is not directly</span>
<span class="sd">        controllable.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;:ACQuire:POINts?&#39;</span><span class="p">)</span>

    <span class="nd">@Feat</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">measure_sample_rate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the current oscilloscope acquisition sample</span>
<span class="sd">        rate. The sample rate is not directly controllable.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;:ACQuire:SRATe?&#39;</span><span class="p">)</span>

    <span class="c1">#@DictFeat(keys={&#39;NORMal&#39;, &#39;AVERage&#39;, &#39;HRESolution&#39;, &#39;PEAK&#39;})</span>
    <span class="nd">@Feat</span><span class="p">(</span><span class="n">values</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;NORMal&#39;</span><span class="p">,</span> <span class="s1">&#39;AVERage&#39;</span><span class="p">,</span> <span class="s1">&#39;HRESolution&#39;</span><span class="p">,</span> <span class="s1">&#39;PEAK&#39;</span><span class="p">})</span>
    <span class="k">def</span> <span class="nf">measure_type</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Selects the type of data acquisition that is to take</span>
<span class="sd">        place. The acquisition types are:</span>
<span class="sd">        NORMal — sets the oscilloscope in the normal mode.</span>
<span class="sd">        AVERage — sets the oscilloscope in the averaging mode. You can set the count</span>
<span class="sd">        by using the method measure_acquire_count.</span>
<span class="sd">        In this mode, the value for averages is an integer from 1 to 65536. The COUNt</span>
<span class="sd">        value determines the number of averages that must be acquired.</span>
<span class="sd">        The AVERage type is not available when in segmented memory mode</span>
<span class="sd">        • HRESolution — sets the oscilloscope in the high-resolution mode (also known</span>
<span class="sd">        as smoothing). This mode is used to reduce noise at slower sweep speeds</span>
<span class="sd">        where the digitizer samples faster than needed to fill memory for the displayed</span>
<span class="sd">        time range.</span>
<span class="sd">        For example, if the digitizer samples at 200 MSa/s, but the effective sample</span>
<span class="sd">        rate is 1 MSa/s (because of a slower sweep speed), only 1 out of every 200</span>
<span class="sd">        samples needs to be stored. Instead of storing one sample (and throwing others</span>
<span class="sd">        away), the 200 samples are averaged together to provide the value for one</span>
<span class="sd">        display point. The slower the sweep speed, the greater the number of samples</span>
<span class="sd">        that are averaged together for each display point.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;:ACQuire:TYPE?&#39;</span><span class="p">)</span>

    <span class="nd">@measure_type</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">measure_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">mode</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;:ACQuire:TYPE </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">mode</span><span class="p">)</span>

    <span class="c1">#@Feat(limits=(1,2))</span>
<div class="viewcode-block" id="Funcgen.measure_VPP"><a class="viewcode-back" href="../../../../../UUTrack.Controller.devices.keysight.html#UUTrack.Controller.devices.keysight.inifiniivision.Funcgen.measure_VPP">[docs]</a>    <span class="k">def</span> <span class="nf">measure_VPP</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chan</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Gets the Voltage peak to peak from the oscilloscope in the desired channel&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;:MEAS:VPP? CHAN</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">chan</span><span class="p">)</span> <span class="o">*</span> <span class="n">Q_</span><span class="p">(</span><span class="s1">&#39;volt&#39;</span><span class="p">)</span></div>

    <span class="c1"># @Feat(limits=(1,2))</span>
<div class="viewcode-block" id="Funcgen.measure_Vmin"><a class="viewcode-back" href="../../../../../UUTrack.Controller.devices.keysight.html#UUTrack.Controller.devices.keysight.inifiniivision.Funcgen.measure_Vmin">[docs]</a>    <span class="k">def</span> <span class="nf">measure_Vmin</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">chan</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Measures the minimum voltage from the selected channel. &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;:MEAS:VMIN? CHAN</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">chan</span><span class="p">)</span> <span class="o">*</span> <span class="n">Q_</span><span class="p">(</span><span class="s1">&#39;volt&#39;</span><span class="p">)</span></div>

    <span class="c1"># @Feat(limits=(1,2))</span>
<div class="viewcode-block" id="Funcgen.measure_Vmax"><a class="viewcode-back" href="../../../../../UUTrack.Controller.devices.keysight.html#UUTrack.Controller.devices.keysight.inifiniivision.Funcgen.measure_Vmax">[docs]</a>    <span class="k">def</span> <span class="nf">measure_Vmax</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">chan</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Measures the maximum voltage from the selected channel. &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;:MEAS:VMAX? CHAN</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">chan</span><span class="p">)</span> <span class="o">*</span> <span class="n">Q_</span><span class="p">(</span><span class="s1">&#39;volt&#39;</span><span class="p">)</span></div>

    <span class="c1"># @Feat(limits=(1,2))</span>
<div class="viewcode-block" id="Funcgen.measure_frequency"><a class="viewcode-back" href="../../../../../UUTrack.Controller.devices.keysight.html#UUTrack.Controller.devices.keysight.inifiniivision.Funcgen.measure_frequency">[docs]</a>    <span class="k">def</span> <span class="nf">measure_frequency</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">chan</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Measures the frequency from the selected channel. &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;:MEAS:FREQ? CHAN</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">chan</span><span class="p">)</span> <span class="o">*</span> <span class="n">Q_</span><span class="p">(</span><span class="s1">&#39;hertz&#39;</span><span class="p">)</span></div>

    <span class="nd">@Action</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">measure_clear</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Clears all the measurements from the screen.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;:MEASure:CLEar&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="nd">@Feat</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">measure_waveform</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the binary block of sampled data points</span>
<span class="sd">        transmitted using the IEEE 488.2 arbitrary block data format. The binary data is</span>
<span class="sd">        formatted according to the settings of the :WAVeform:UNSigned,</span>
<span class="sd">        :WAVeform:BYTeorder, :WAVeform:FORMat, and :WAVeform:SOURce commands.</span>
<span class="sd">        The number of points returned is controlled by the :WAVeform:POINts command&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;:WAVeform:DATA?&#39;</span><span class="p">)</span>

    <span class="nd">@Feat</span><span class="p">(</span><span class="n">values</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;WORD&#39;</span><span class="p">,</span> <span class="s1">&#39;BYTE&#39;</span><span class="p">,</span> <span class="s1">&#39;ASCii&#39;</span><span class="p">})</span>
    <span class="k">def</span> <span class="nf">measure_format</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Sets the data transmission mode for waveform</span>
<span class="sd">        data points. This command controls how the data is formatted when sent from the</span>
<span class="sd">        oscilloscope.</span>
<span class="sd">        • ASCii formatted data converts the internal integer data values to real Y-axis</span>
<span class="sd">        values. Values are transferred as ASCii digits in floating point notation,</span>
<span class="sd">        separated by commas.</span>
<span class="sd">        ASCII formatted data is transferred ASCii text.</span>
<span class="sd">        • WORD formatted data transfers 16-bit data as two bytes. The</span>
<span class="sd">        :WAVeform:BYTeorder command can be used to specify whether the upper or</span>
<span class="sd">        lower byte is transmitted first. The default (no command sent) is that the upper</span>
<span class="sd">        byte transmitted first.</span>
<span class="sd">        • BYTE formatted data is transferred as 8-bit bytes.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;:WAVeform:FORMat?&#39;</span><span class="p">)</span>

    <span class="nd">@measure_format</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">measure_format</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">f</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;:WAVeform:FORMat </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">f</span><span class="p">)</span>

    <span class="nd">@Feat</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">measure_points</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;sets the number of waveform points to be</span>
<span class="sd">        transferred with the measure_waveform command. This value represents the points</span>
<span class="sd">        contained in the waveform selected with the :WAVeform:SOURce command.</span>
<span class="sd">        For the analog or digital sources, the records that can be transferred depend on</span>
<span class="sd">        the waveform points mode. The maximum number of points returned for math</span>
<span class="sd">        (function) waveforms is determined by the NORMal waveform points mode.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;:WAVeform:POINts?&#39;</span><span class="p">)</span>

    <span class="nd">@measure_points</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">measure_points</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">points</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;:WAVeform:POINts </span><span class="si">%s</span><span class="s1">&#39;</span><span class="o">%</span><span class="n">points</span><span class="p">)</span>

    <span class="nd">@Feat</span><span class="p">(</span><span class="n">values</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;NORMal&#39;</span><span class="p">,</span> <span class="s1">&#39;MAXimum&#39;</span><span class="p">,</span> <span class="s1">&#39;RAW&#39;</span><span class="p">})</span>
    <span class="k">def</span> <span class="nf">measure_points_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Sets the data record to be transferred.</span>
<span class="sd">        For the analog or digital sources, there are two different records that can be</span>
<span class="sd">        transferred:</span>
<span class="sd">        • The first is the raw acquisition record. The maximum number of points available</span>
<span class="sd">        in this record is returned by the :ACQuire:POINts? query. The raw acquisition</span>
<span class="sd">        record can only be transferred when the oscilloscope is not running and can</span>
<span class="sd">        only be retrieved from the analog or digital sources.</span>
<span class="sd">        • The second is referred to as the measurement record and is a 62,500-point</span>
<span class="sd">        (maximum) representation of the raw acquisition record. The measurement</span>
<span class="sd">        record can be retrieved from any source.</span>
<span class="sd">        If the &lt;points_mode&gt; is NORMal the measurement record is retrieved.</span>
<span class="sd">        If the &lt;points_mode&gt; is RAW, the raw acquisition record is used. Under some</span>
<span class="sd">        conditions, such as when the oscilloscope is running, this data record is</span>
<span class="sd">        unavailable.</span>
<span class="sd">        If the &lt;points_mode&gt; is MAXimum, whichever record contains the maximum</span>
<span class="sd">        amount of points is used. Usually, this is the raw acquisition record. But, if the raw</span>
<span class="sd">        acquisition record is unavailable (for example, when the oscilloscope is running),</span>
<span class="sd">        the measurement record may have more data. If data is being retrieved as the</span>
<span class="sd">        oscilloscope is stopped and as the data displayed is changing, the data being</span>
<span class="sd">        retrieved can switch between the measurement and raw acquisition records.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;:WAVeform:POINts:MODE?&#39;</span><span class="p">)</span>

    <span class="nd">@measure_points_mode</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">measure_points_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">mode</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;:WAVeform:POINts:MODE </span><span class="si">%s</span><span class="s1">&#39;</span><span class="o">%</span><span class="n">mode</span><span class="p">)</span>

    <span class="nd">@Feat</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">measure_waveform_preamble</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;requests the preamble information for the</span>
<span class="sd">        selected waveform source. The preamble data contains information concerning</span>
<span class="sd">        the vertical and horizontal scaling of the data of the corresponding channel.</span>
<span class="sd">        &lt;format 16-bit NR1&gt;,</span>
<span class="sd">        &lt;type 16-bit NR1&gt;,</span>
<span class="sd">        &lt;points 32-bit NR1&gt;,</span>
<span class="sd">        &lt;count 32-bit NR1&gt;,</span>
<span class="sd">        &lt;xincrement 64-bit floating point NR3&gt;,</span>
<span class="sd">        &lt;xorigin 64-bit floating point NR3&gt;,</span>
<span class="sd">        &lt;xreference 32-bit NR1&gt;,</span>
<span class="sd">        &lt;yincrement 32-bit floating point NR3&gt;,</span>
<span class="sd">        &lt;yorigin 32-bit floating point NR3&gt;,</span>
<span class="sd">        &lt;yreference 32-bit NR1&gt;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;:WAVeform:PREamble?&#39;</span><span class="p">)</span>

    <span class="nd">@Feat</span><span class="p">(</span><span class="n">limits</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
    <span class="k">def</span> <span class="nf">measure_waveform_source</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;selects the analog channel, function, digital</span>
<span class="sd">        pod, digital bus, reference waveform, or serial decode bus to be used as the source.</span>
<span class="sd">        IMPORTANT: Currently only implemented for channel 1 or 2.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;:WAVeform:SOURce?&#39;</span><span class="p">)</span>

    <span class="nd">@measure_waveform_source</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">measure_waveform_source</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">source</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;:WAVeform:SOURce CHAN</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">source</span><span class="p">)</span></div>



<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="k">with</span> <span class="n">Funcgen</span><span class="o">.</span><span class="n">via_usb</span><span class="p">()</span> <span class="k">as</span> <span class="n">inst</span><span class="p">:</span>
        <span class="n">inst</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>

        <span class="nb">print</span><span class="p">(</span><span class="n">inst</span><span class="o">.</span><span class="n">idn</span><span class="p">)</span>
        <span class="n">inst</span><span class="o">.</span><span class="n">measure_run</span><span class="p">()</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;++++++++++++++++++++&#39;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;VPP in channel 1: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">inst</span><span class="o">.</span><span class="n">measure_VPP</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;VMax in channel 1: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">inst</span><span class="o">.</span><span class="n">measure_Vmax</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;VMin in channel 1: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">inst</span><span class="o">.</span><span class="n">measure_Vmin</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Freq in channel 1: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">inst</span><span class="o">.</span><span class="n">measure_frequency</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Sample rate: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">inst</span><span class="o">.</span><span class="n">measure_sample_rate</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;++++++++++++++++++++&#39;</span><span class="p">)</span>
        <span class="n">inst</span><span class="o">.</span><span class="n">measure_points</span> <span class="o">=</span> <span class="mi">100</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Preamble:&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">inst</span><span class="o">.</span><span class="n">measure_waveform_preamble</span><span class="p">)</span>
        <span class="n">inst</span><span class="o">.</span><span class="n">measure_waveform_source</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Data from </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">inst</span><span class="o">.</span><span class="n">measure_waveform_source</span><span class="p">)</span>
        <span class="n">inst</span><span class="o">.</span><span class="n">measure_format</span> <span class="o">=</span> <span class="s1">&#39;ASCii&#39;</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">inst</span><span class="o">.</span><span class="n">measure_waveform</span><span class="p">)</span>
        <span class="n">inst</span><span class="o">.</span><span class="n">measure_waveform_source</span> <span class="o">=</span> <span class="mi">2</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Data from </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">inst</span><span class="o">.</span><span class="n">measure_waveform_source</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">inst</span><span class="o">.</span><span class="n">measure_waveform</span><span class="p">)</span>
        <span class="n">inst</span><span class="o">.</span><span class="n">measure_type</span> <span class="o">=</span> <span class="s1">&#39;AVERage&#39;</span>
        <span class="n">inst</span><span class="o">.</span><span class="n">measure_acquire_count</span> <span class="o">=</span> <span class="mi">10</span>
</pre></div>

          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../../../index.html">Documentation overview</a><ul>
  <li><a href="../../../../index.html">Module code</a><ul>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../../../../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2017, Aquiles Carattino.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.5.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
    </div>

    

    
  </body>
</html>